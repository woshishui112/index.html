<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å®¶åº­ç”¨è¯é¿å‘æŒ‡å— | æé€Ÿä¿®å¤ç‰ˆ</title>
    
    <!-- 1. ä½¿ç”¨æœ€ç¨³å®šçš„å›½å†… CDN æº -->
    <script src="https://cdn.bootcdn.net/ajax/libs/tailwindcss/3.3.3/tailwind.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/babel-standalone/7.22.17/babel.min.js"></script>
    
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Microsoft YaHei", sans-serif; background-color: #f8fafc; -webkit-tap-highlight-color: transparent; }
        /* åŠ è½½åŠ¨ç”» */
        .loader { border: 3px solid #f3f3f3; border-radius: 50%; border-top: 3px solid #7e22ce; width: 20px; height: 20px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .scan-line { position: absolute; top: 0; left: 0; width: 100%; height: 3px; background: linear-gradient(to right, transparent, #a855f7, transparent); animation: scanning 1.5s infinite; z-index: 10; }
        @keyframes scanning { 0% { top: 0; } 100% { top: 100%; } }
        #root { display: block; } /* é˜²æ­¢ç™½å± */
    </style>
</head>
<body>
    <!-- æ•…éšœå…œåº•æ˜¾ç¤º -->
    <div id="loading-text" style="text-align:center; padding: 20px; color: #666;">æ­£åœ¨å¯åŠ¨è¯ç®±...<br>å¦‚æœé•¿æ—¶é—´æ— ååº”ï¼Œè¯·åˆ·æ–°é¡µé¢</div>
    
    <div id="root"></div>

    <script type="text/babel">
        // å¯åŠ¨æˆåŠŸåéšè—åŠ è½½æ–‡å­—
        document.getElementById('loading-text').style.display = 'none';

        const { useState, useRef, useEffect } = React;

        // --- å›¾æ ‡ç»„ä»¶ (å†…ç½®SVGï¼Œç¡®ä¿ä¸ä¾èµ–å¤–éƒ¨å­—ä½“ï¼Œæé€ŸåŠ è½½) ---
        const Icons = {
            Shield: () => <svg className="w-6 h-6" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>,
            Search: () => <svg className="w-5 h-5" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>,
            Camera: () => <svg className="w-5 h-5" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path><path strokeLinecap="round" strokeLinejoin="round" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>,
            Image: () => <svg className="w-5 h-5" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>,
            AlertTriangle: () => <svg className="w-3.5 h-3.5" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>,
            AlertOctagon: () => <svg className="w-3.5 h-3.5" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>,
            XCircle: () => <svg className="w-3.5 h-3.5" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>,
            Gavel: () => <svg className="w-4 h-4" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" d="M13.5 21v-7.5a.75.75 0 01.75-.75h3a.75.75 0 01.75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349m-16.5 11.65V9.35m0 0a3.001 3.001 0 003.75-.615A2.993 2.993 0 009.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 002.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 003.75.614m-16.5 0a3.004 3.004 0 01-.621-4.72l1.189-1.19A1.5 1.5 0 015.378 3h13.243a1.5 1.5 0 011.06.44l1.19 1.189a3 3 0 01-.621 4.72m-13.5 8.65h3.75a.75.75 0 00.75-.75V13.5a.75.75 0 00-.75-.75H6.75a.75.75 0 00-.75.75v3.75c0 .415.336.75.75.75z"></path></svg>,
            ShieldCheck: () => <svg className="w-3.5 h-3.5" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z" /></svg>,
            ChevronDown: () => <svg className="w-5 h-5" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" d="M19 9l-7 7-7-7"></path></svg>,
            Tag: () => <svg className="w-3 h-3" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path></svg>
        };

        // --- 3. å…¨é‡é«˜å±è¯ç‰©æ•°æ®åº“ (50+) ---
        const drugDatabase = [
            { id: 1, name: "å®‰ä¹ƒè¿‘", abbr: "Analgin", aliases: ["å¤§è¯ç‰‡", "é€€çƒ§é’ˆ", "è¯ºç“¦é‡‘"], category: "é€€çƒ§æ­¢ç—›", riskLevel: "âŒ å›½å®¶æ³¨é”€ (æé«˜å±)", riskColor: "bg-red-600 text-white", harm: "ã€è‡´æ­»ã€‘ç²’ç»†èƒç¼ºä¹ç—‡ï¼ˆå…ç–«ç˜«ç—ªï¼‰ï¼›ä¸¥é‡è¿‡æ•æ€§ä¼‘å…‹ã€‚", consequence: "å›½å®¶è¯ç›‘å±€å…¬å‘Šï¼šåœæ­¢ç”Ÿäº§ï¼Œæ³¨é”€æ‰¹æ–‡ã€‚", alternatives: "å¸ƒæ´›èŠ¬ã€å¯¹ä¹™é…°æ°¨åŸºé…š" },
            { id: 2, name: "å°¼ç¾èˆ’åˆ©", abbr: "Nimesulide", aliases: ["ç‘èŠæ¸…", "é€€çƒ§é¢—ç²’"], category: "é€€çƒ§æ­¢ç—›", riskLevel: "âŒ 12å²ä»¥ä¸‹ç¦ç”¨", riskColor: "bg-red-600 text-white", harm: "ã€è‚è¡°ç«­ã€‘ä¸¥é‡è‚æ¯’æ€§ï¼Œè‡´æ­»ç‡é«˜ã€‚", consequence: "å›½å®¶é£Ÿè¯ç›‘å±€é€šçŸ¥ï¼šç¦æ­¢ç”¨äº12å²ä»¥ä¸‹ã€‚", alternatives: "å¸ƒæ´›èŠ¬ã€å¯¹ä¹™é…°æ°¨åŸºé…š" },
            { id: 3, name: "é˜¿å¸åŒ¹æ—", abbr: "Aspirin", aliases: ["å·´ç±³å°”", "ASA"], category: "é€€çƒ§æ­¢ç—›", riskLevel: "âŒ 16å²ä»¥ä¸‹å‘çƒ§ç¦ç”¨", riskColor: "bg-red-600 text-white", harm: "ã€ç‘æ°ç»¼åˆå¾ã€‘è‡´æ­»æ€§è„‘ç—…+è‚æŸï¼Œæ­»äº¡ç‡30%ã€‚", consequence: "å„¿ç«¥ç—…æ¯’æ„ŸæŸ“å‘çƒ§ç¦ç”¨ã€‚", alternatives: "å¸ƒæ´›èŠ¬" },
            { id: 4, name: "æ°¨åŸºæ¯”æ—", abbr: "APC", aliases: ["å»ç—›ç‰‡", "å®‰ç—›å®š"], category: "é€€çƒ§æ­¢ç—›", riskLevel: "âš ï¸ æ·˜æ±°è¯", riskColor: "bg-orange-500 text-white", harm: "ã€è¡€æ¶²æ¯’æ€§ã€‘ç²’ç»†èƒå‡å°‘ï¼Œä¼¤è‚¾ã€‚", consequence: "å·²è¢«æ›´å®‰å…¨è¯ç‰©æ›¿ä»£ã€‚", alternatives: "å¸ƒæ´›èŠ¬" },
            { id: 5, name: "èµ–æ°¨åŒ¹æ—", abbr: "Lys-Asp", aliases: ["é€€çƒ§é’ˆ"], category: "é€€çƒ§æ­¢ç—›", riskLevel: "âŒ 16å²ä»¥ä¸‹æ…ç”¨", riskColor: "bg-red-600 text-white", harm: "åŒé˜¿å¸åŒ¹æ—ï¼Œæ³¨å°„æ›´å®¹æ˜“å¼•èµ·ç‘æ°ç»¼åˆå¾ã€‚", consequence: "è¯´æ˜ä¹¦è­¦ç¤ºã€‚", alternatives: "å£æœé€€çƒ§è¯" },
            { id: 6, name: "ä¿æ³°æ¾", abbr: "Phenylbutazone", aliases: ["é£æ¹¿è¯"], category: "æ­¢ç—›è¯", riskLevel: "âŒ é«˜æ¯’æ€§", riskColor: "bg-red-600 text-white", harm: "å¯å¼•èµ·å†ç”Ÿéšœç¢æ€§è´«è¡€ï¼ˆè¡€ç™Œï¼‰ï¼Œèƒƒå‡ºè¡€ã€‚", consequence: "å·²è¢«æ·˜æ±°ã€‚", alternatives: "å…¶ä»–NSAIDs" },
            { id: 7, name: "é˜¿ç±³å¡æ˜Ÿ", abbr: "AKC", aliases: ["AMK", "ä¸èƒºå¡é‚£"], category: "æŠ—ç”Ÿç´ ", riskLevel: "âš ï¸ å„¿ç«¥æ…ç”¨ (é«˜å±)", riskColor: "bg-orange-500 text-white", harm: "ã€è€³æ¯’æ€§+è‚¾æ¯’æ€§ã€‘å¬åŠ›ä¸‹é™ç”šè‡³è€³è‹ï¼›æŸä¼¤è‚¾è„ã€‚", consequence: "æ™®é€šæ„Ÿå†’ç”¨æ­¤è¯å±äºè¿‡åº¦åŒ»ç–—ã€‚", alternatives: "å¤´å­¢ç±»" },
            { id: 8, name: "åº†å¤§éœ‰ç´ ", abbr: "GM", aliases: ["Gentamycin", "é’ˆå‰‚"], category: "æŠ—ç”Ÿç´ ", riskLevel: "âš ï¸ å„¿ç«¥æ…ç”¨ (é«˜å±)", riskColor: "bg-orange-500 text-white", harm: "ã€è€³æ¯’æ€§ã€‘ä¸€é’ˆè‡´è‹é£é™©ï¼Œä¸å¯é€†ã€‚", consequence: "æœªæˆå¹´äººåº”æ…ç”¨ã€‚", alternatives: "å¤´å­¢ç±»" },
            { id: 9, name: "è¯ºæ°Ÿæ²™æ˜Ÿ", abbr: "Norfloxacin", aliases: ["æ°Ÿå“Œé…¸", "æ²™æ˜Ÿ"], category: "æŠ—ç”Ÿç´ ", riskLevel: "âŒ 18å²ç¦ç”¨", riskColor: "bg-red-600 text-white", harm: "ã€éª¨éª¼æŸä¼¤ã€‘å½±å“è½¯éª¨å‘è‚²ï¼Œé•¿ä¸é«˜ï¼Œè‚Œè…±æ–­è£‚ã€‚", consequence: "è¯´æ˜ä¹¦ç¦å¿Œï¼š18å²ä»¥ä¸‹ç¦ç”¨ã€‚", alternatives: "è’™è„±çŸ³æ•£" },
            { id: 10, name: "å·¦æ°§æ°Ÿæ²™æ˜Ÿ", abbr: "LVFX", aliases: ["Levofloxacin", "æ²™æ˜Ÿç±»"], category: "æŠ—ç”Ÿç´ ", riskLevel: "âŒ 18å²ç¦ç”¨", riskColor: "bg-red-600 text-white", harm: "ã€éª¨éª¼æŸä¼¤ã€‘å½±å“è½¯éª¨å‘è‚²ï¼Œé•¿ä¸é«˜ã€‚", consequence: "è¯´æ˜ä¹¦ç¦å¿Œã€‚", alternatives: "å¤´å­¢ç±»" },
            { id: 11, name: "å››ç¯ç´ ", abbr: "TCY", aliases: ["åœŸéœ‰ç´ ", "OTC", "å¼ºåŠ›éœ‰ç´ "], category: "æŠ—ç”Ÿç´ ", riskLevel: "âŒ 8å²ç¦ç”¨", riskColor: "bg-red-600 text-white", harm: "ã€å››ç¯ç´ ç‰™ã€‘ç‰™é½¿æ°¸ä¹…å˜é»‘ã€å‘è‚²ä¸è‰¯ã€‚", consequence: "æ¯å®¹æ€§å‰¯ä½œç”¨ã€‚", alternatives: "é˜¿å¥‡éœ‰ç´ " },
            { id: 12, name: "æ°¯éœ‰ç´ ", abbr: "Chloramphenicol", aliases: [], category: "æŠ—ç”Ÿç´ ", riskLevel: "âŒ æ–°ç”Ÿå„¿ç¦ç”¨", riskColor: "bg-red-600 text-white", harm: "ç°å©´ç»¼åˆå¾(å¾ªç¯è¡°ç«­)ï¼Œéª¨é«“æŠ‘åˆ¶ã€‚", consequence: "æå°‘ä½¿ç”¨ã€‚", alternatives: "å…¶ä»–æŠ—ç”Ÿç´ " },
            { id: 13, name: "å‘‹å–ƒå”‘é…®", abbr: "FZ", aliases: ["ç—¢ç‰¹çµ"], category: "æŠ—ç”Ÿç´ ", riskLevel: "âš ï¸ å‰¯ä½œç”¨å¤š", riskColor: "bg-orange-500 text-white", harm: "å¤šå‘æ€§ç¥ç»ç‚ï¼Œæº¶è¡€æ€§è´«è¡€ã€‚", consequence: "è€è¯ï¼Œå‰¯ä½œç”¨å¤§ã€‚", alternatives: "è’™è„±çŸ³æ•£" },
            { id: 14, name: "å¯å¾…å› ", abbr: "Codeine", aliases: ["ç½‚ç²Ÿå£³", "å¼ºåŠ›æ‡æ·éœ²", "å¤æ–¹ç”˜è‰ç‰‡", "å…‹å’³"], category: "æ­¢å’³åŒ–ç—°", riskLevel: "âŒ 18å²ç¦ç”¨", riskColor: "bg-red-600 text-white", harm: "ã€æˆç˜¾/çª’æ¯ã€‘å«æ¯’å“æˆåˆ†ï¼ŒæŠ‘åˆ¶å‘¼å¸ã€‚", consequence: "å›½å®¶è¯ç›‘å±€å…¬å‘Šï¼š18å²ä»¥ä¸‹ç¦ç”¨ã€‚", alternatives: "å³ç¾æ²™èŠ¬" },
            { id: 15, name: "å¼‚ä¸™å—ª", abbr: "PMZ", aliases: ["éé‚£æ ¹", "Promethazine", "ä¼¤é£æ­¢å’³"], category: "æ­¢å’³/æ­¢å", riskLevel: "âŒ 2å²ç¦ç”¨", riskColor: "bg-red-600 text-white", harm: "ã€å‘¼å¸æŠ‘åˆ¶ã€‘å¯èƒ½å¯¼è‡´å¹¼å„¿å‘¼å¸åœæ­¢æ­»äº¡ï¼", consequence: "WHOè­¦ç¤ºï¼šç»å¯¹ç¦ç”¨äº2å²ä»¥ä¸‹ã€‚", alternatives: "æµ·ç›æ°´" },
            { id: 16, name: "è˜ç”²å”‘å•‰", abbr: "Naphazoline", aliases: ["æ»´é¼»å‡€", "æ»´é¼»æ°´"], category: "æ„Ÿå†’é¼»ç‚", riskLevel: "âŒ å„¿ç«¥ç¦ç”¨", riskColor: "bg-red-600 text-white", harm: "ã€ä¸­æ¯’ã€‘æ˜“å¯¼è‡´å„¿ç«¥ä¼‘å…‹ã€æ˜è¿·ã€‚", consequence: "ä¸´åºŠç”¨è¯é¡»çŸ¥è­¦ç¤ºã€‚", alternatives: "æµ·ç›æ°´" },
            { id: 17, name: "è‰¾ç•…(è€ç‰ˆ)", abbr: "Pseudoephedrine", aliases: ["ä¼ªéº»ç¾èŠ¬", "è‰¾ç•…"], category: "æ„Ÿå†’è¯", riskLevel: "âŒ å›½å®¶æ³¨é”€", riskColor: "bg-red-600 text-white", harm: "å«ä¼ªéº»é»„ç¢±ï¼Œå©´å¹¼å„¿é£é™©é«˜ã€‚", consequence: "å›½å®¶è¯ç›‘å±€æ³¨é”€æ‰¹æ–‡ã€‚", alternatives: "æµ·ç›æ°´" },
            { id: 18, name: "é‡‘åˆšçƒ·èƒº", abbr: "Amantadine", aliases: ["ä¼˜å¡ä¸¹", "å¥½å¨ƒå¨ƒ", "å¿«å…‹"], category: "æŠ—ç—…æ¯’", riskLevel: "âš ï¸ 5å²æ…ç”¨", riskColor: "bg-yellow-500 text-white", harm: "è‚è‚¾æ¯’æ€§ï¼Œå¯¹æµæ„Ÿæ— æ•ˆã€‚", consequence: "å›½å®¶è¯ç›‘å±€ä¿®è®¢è¯´æ˜ä¹¦ã€‚", alternatives: "å•ä¸€é€€çƒ§è¯" },
            { id: 19, name: "ç‰¹éé‚£å®š", abbr: "Terfenadine", aliases: ["æ•è¿ª"], category: "æŠ—è¿‡æ•", riskLevel: "âŒ å¿ƒè„æ¯’æ€§", riskColor: "bg-red-600 text-white", harm: "ã€çŒæ­»ã€‘å¯¼è‡´ä¸¥é‡å¿ƒå¾‹å¤±å¸¸ã€‚", consequence: "å·²è¢«æ°¯é›·ä»–å®šå–ä»£ã€‚", alternatives: "æ°¯é›·ä»–å®š" },
            { id: 20, name: "æŸ´èƒ¡æ³¨å°„æ¶²", abbr: "Chaihu", aliases: ["é€€çƒ§é’ˆ"], category: "ä¸­è¯æ³¨å°„", riskLevel: "âŒ å„¿ç«¥ç¦ç”¨", riskColor: "bg-red-600 text-white", harm: "ã€è¿‡æ•æ€§ä¼‘å…‹ã€‘æ›¾å¯¼è‡´å¤šèµ·å„¿ç«¥è‡´æ­»ã€‚", consequence: "å›½å®¶è¯ç›‘å±€å…¬å‘Šã€‚", alternatives: "å£æœå¸ƒæ´›èŠ¬" },
            { id: 21, name: "åŒé»„è¿æ³¨å°„æ¶²", abbr: "SHL", aliases: ["åŒé»„è¿"], category: "ä¸­è¯æ³¨å°„", riskLevel: "âŒ 4å²ç¦ç”¨", riskColor: "bg-red-600 text-white", harm: "ä¸¥é‡è¿‡æ•ååº”ï¼Œä¼‘å…‹ã€‚", consequence: "å›½å®¶è¯ç›‘å±€å…¬å‘Šã€‚", alternatives: "å£æœä¸­æˆè¯" },
            { id: 22, name: "èŒµæ €é»„æ³¨å°„æ¶²", abbr: "YZH", aliases: ["é€€é»„é’ˆ"], category: "ä¸­è¯æ³¨å°„", riskLevel: "âŒ æ–°ç”Ÿå„¿ç¦ç”¨", riskColor: "bg-red-600 text-white", harm: "ã€æ­»äº¡é£é™©ã€‘æ›¾è‡´æ–°ç”Ÿå„¿æ­»äº¡ã€‚", consequence: "å›½å®¶è¯ç›‘å±€å…¬å‘Šã€‚", alternatives: "è“å…‰ç…§å°„" },
            { id: 23, name: "å–œç‚å¹³", abbr: "XYP", aliases: ["å–œç‚å¹³"], category: "ä¸­è¯æ³¨å°„", riskLevel: "âš ï¸ æ…ç”¨", riskColor: "bg-orange-500 text-white", harm: "å…¨èº«æ€§è¿‡æ•ååº”ï¼Œå‘¼å¸å›°éš¾ã€‚", consequence: "ä¸è‰¯ååº”é€šæŠ¥ã€‚", alternatives: "å£æœè¯" },
            { id: 24, name: "ç©¿ç¥å®/ç‚ç¥å®", abbr: "Potassium", aliases: ["æŠ—ç—…æ¯’é’ˆ"], category: "ä¸­è¯æ³¨å°„", riskLevel: "âš ï¸ æ…ç”¨", riskColor: "bg-orange-500 text-white", harm: "è¿‡æ•æ€§ä¼‘å…‹å‘ç”Ÿç‡é«˜ï¼Œè¡€å°æ¿å‡å°‘ã€‚", consequence: "ä¸è‰¯ååº”é€šæŠ¥ã€‚", alternatives: "å£æœè¯" },
            { id: 25, name: "ä½•é¦–ä¹Œ(ç”Ÿ)", abbr: "Heshouwu", aliases: ["é¦–ä¹Œ"], category: "ä¸­è‰è¯", riskLevel: "âš ï¸ è‚æ¯’æ€§", riskColor: "bg-orange-500 text-white", harm: "è¯ç‰©æ€§è‚æŸä¼¤ï¼Œä¸¥é‡å¯è‡´è‚è¡°ç«­ã€‚", consequence: "éœ€éµåŒ»å˜±ã€‚", alternatives: "æ— " },
            { id: 26, name: "åœŸä¸‰ä¸ƒ", abbr: "TCM Toxic", aliases: ["èŠä¸‰ä¸ƒ"], category: "ä¸­è‰è¯", riskLevel: "âŒ å‰§æ¯’", riskColor: "bg-red-600 text-white", harm: "ã€è‚çª¦é˜»å¡ã€‘å¯¼è‡´è‚è…¹æ°´ã€è‚è¡°ç«­ï¼Œæ— è¯å¯æ²»ã€‚", consequence: "ç»å¯¹ç¦ç”¨ã€‚", alternatives: "æ­£è§„ä¸‰ä¸ƒ" },
            { id: 27, name: "æœ±ç ‚/é›„é»„", abbr: "HeavyMetal", aliases: ["ä¸ƒå˜æ•£", "å°å„¿æƒŠé£æ•£"], category: "ä¸­æˆè¯", riskLevel: "âš ï¸ é‡é‡‘å±", riskColor: "bg-orange-500 text-white", harm: "å«æ±ã€ç ·ï¼Œä¼¤è‚è‚¾ã€ä¼¤è„‘ã€‚", consequence: "é•¿æœŸæœç”¨æ…¢æ€§ä¸­æ¯’ã€‚", alternatives: "æ— " },
            { id: 28, name: "é©¬å…œé“ƒé…¸", abbr: "AA", aliases: ["å…³æœ¨é€š", "å¹¿é˜²å·±", "é’æœ¨é¦™", "é©¬å…œé“ƒ"], category: "ä¸­è‰è¯", riskLevel: "âŒ è‚¾è¡°ç«­", riskColor: "bg-red-600 text-white", harm: "ã€å°¿æ¯’ç—‡ã€‘ç›´æ¥æŸä¼¤è‚¾å°ç®¡ï¼Œä¸å¯é€†ï¼›è‡´ç™Œã€‚", consequence: "å›½å®¶å·²å–æ¶ˆè¯ç”¨æ ‡å‡†ã€‚", alternatives: "æ— " },
            { id: 29, name: "æ§Ÿæ¦”", abbr: "Areca", aliases: ["æ§Ÿæ¦”"], category: "å…¶ä»–", riskLevel: "âŒ ä¸€çº§è‡´ç™Œ", riskColor: "bg-red-600 text-white", harm: "å£è…”ç™Œï¼Œæˆç˜¾ã€‚", consequence: "WHOè®¤å®šã€‚", alternatives: "å£é¦™ç³–" },
            { id: 30, name: "é…šé…ç‰‡", keywords: ["é…šé…", "æœå¯¼ç‰‡"], riskLevel: "âŒ å›½å®¶æ³¨é”€", riskColor: "bg-red-600 text-white", harm: "ã€è‡´ç™Œã€‘é•¿æœŸä½¿ç”¨å¯å¼•èµ·ç»“è‚ é»‘å˜ç—…ï¼Œä¸¥é‡è‡´ç™Œã€‚", consequence: "å›½å®¶è¯ç›‘å±€æ³¨é”€ã€‚", alternatives: "ä¹³æœç³–" },
            { id: 31, name: "æ´›å“Œä¸èƒº", abbr: "Loperamide", aliases: ["æ˜“è’™åœ", "æ­¢æ³»çµ"], category: "æ¶ˆåŒ–ç±»", riskLevel: "âŒ 2å²ç¦ç”¨", riskColor: "bg-red-600 text-white", harm: "ã€è‚ åæ­»ã€‘éº»ç—¹è‚ é“ï¼Œå¯¼è‡´æ¯’ç´ å †ç§¯ä¸­æ¯’ã€‚", consequence: "2å²ä»¥ä¸‹ç¦ç”¨ã€‚", alternatives: "è’™è„±çŸ³æ•£" },
            { id: 32, name: "å¤šæ½˜ç«‹é…®", abbr: "DOM", aliases: ["å—ä¸å•‰"], category: "æ¶ˆåŒ–ç±»", riskLevel: "âš ï¸ 12å²æ…ç”¨", riskColor: "bg-yellow-500 text-white", harm: "å¿ƒè„çŒæ­»(QTé—´æœŸå»¶é•¿)ã€‚", consequence: "æ¬§ç¾é™åˆ¶ä½¿ç”¨ã€‚", alternatives: "ç›Šç”ŸèŒ" },
            { id: 33, name: "è¥¿å¸ƒæ›²æ˜", abbr: "Sibutramine", aliases: ["å‡è‚¥è¯"], category: "å‡è‚¥è¯", riskLevel: "âŒ å…¨çƒç¦ç”¨", riskColor: "bg-red-600 text-white", harm: "å¢åŠ å¿ƒè„ç—…å’Œä¸­é£é£é™©ã€‚", consequence: "å·²æ³¨é”€ã€‚", alternatives: "è¿åŠ¨" },
            { id: 34, name: "åœ°å¡ç±³æ¾", abbr: "DXM", aliases: ["æ¿€ç´ ", "åœ°å¡"], category: "æ¿€ç´ ", riskLevel: "âš ï¸ æ…ç”¨", riskColor: "bg-orange-500 text-white", harm: "æ»¥ç”¨é€€çƒ§æ©ç›–ç—…æƒ…ï¼Œé™ä½å…ç–«åŠ›ã€‚", consequence: "å•çº¯æ„Ÿå†’ä¸åº”å¸¸è§„ä½¿ç”¨ã€‚", alternatives: "å¸ƒæ´›èŠ¬" },
            { id: 35, name: "åˆ©å·´éŸ¦æ—", abbr: "RBV", aliases: ["ç—…æ¯’å”‘"], category: "æŠ—ç—…æ¯’", riskLevel: "âš ï¸ ä¸æ¨è", riskColor: "bg-yellow-500 text-white", harm: "è‡´ç•¸ï¼Œè´«è¡€ã€‚", consequence: "å¯¹æ„Ÿå†’æµæ„Ÿæ— æ•ˆã€‚", alternatives: "å¥¥å¸ä»–éŸ¦" },
            { id: 36, name: "å¼ºæ•ˆæ¿€ç´ è†", abbr: "Steroids", aliases: ["æ°¯å€ä»–ç´¢", "ç‰¹ç¾è‚¤"], category: "çš®è‚¤å¤–ç”¨", riskLevel: "âš ï¸ å„¿ç«¥æ…ç”¨", riskColor: "bg-orange-500 text-white", harm: "çš®è‚¤èç¼©ï¼Œæ¿€ç´ ä¾èµ–ï¼ŒæŠ‘åˆ¶ç”Ÿé•¿ã€‚", consequence: "åº”é€‰å¼±æ•ˆæ¿€ç´ ã€‚", alternatives: "å°¤å“å°”" },
            { id: 37, name: "æ—æ—¦ä¹³è†", abbr: "Lindane", aliases: ["å…­å…­å…­"], category: "çš®è‚¤å¤–ç”¨", riskLevel: "âŒ ç¦ç”¨", riskColor: "bg-red-600 text-white", harm: "ä¸­æ¢ç¥ç»æ¯’æ€§ï¼Œè¯±å‘ç™«ç—«ã€‚", consequence: "å·²æ·˜æ±°ã€‚", alternatives: "ç¡«è½¯è†" },
            { id: 38, name: "ç¡¼é…¸/ç¡¼ç ‚", abbr: "Borip", aliases: ["ç¡¼é…¸"], category: "çš®è‚¤å¤–ç”¨", riskLevel: "âŒ å©´å¹¼å„¿ç¦ç”¨", riskColor: "bg-red-600 text-white", harm: "è“„ç§¯ä¸­æ¯’ï¼Œå¤§é¢ç§¯ä½¿ç”¨è‡´æ­»ã€‚", consequence: "ç¦ç”¨ã€‚", alternatives: "æ°§åŒ–é”Œ" },
            { id: 39, name: "ä¸€æ»´é¦™", abbr: "Poison", aliases: ["ä¸€æ»´é¦™", "æ°Ÿè™«è…ˆ"], category: "å¤–ç”¨", riskLevel: "âš ï¸ å‰§æ¯’", riskColor: "bg-orange-500 text-white", harm: "å†œè¯æˆåˆ†ï¼Œç¥ç»æ¯’æ€§ã€‚", consequence: "æ…ç”¨ã€‚", alternatives: "ç”µèšŠé¦™æ¶²" },
            { id: 40, name: "å¤´å­¢åœ°å°¼", abbr: "Cefdinir", aliases: ["å¤´å­¢"], category: "æŠ—ç”Ÿç´ ", riskLevel: "âœ… å®‰å…¨æŠ—ç”Ÿç´ ", riskColor: "bg-green-600 text-white", harm: "å¯¹ç—‡è¯ç‰©ï¼Œè¯·éµåŒ»å˜±æœç”¨ã€‚", consequence: "ä¸‰ä»£å¤´å­¢ï¼Œé’ˆå¯¹å‘¼å¸é“ã€‚", alternatives: "æ— " },
            { id: 41, name: "é˜¿å¥‡éœ‰ç´ ", abbr: "Azithromycin", aliases: ["é˜¿å¥‡"], category: "æŠ—ç”Ÿç´ ", riskLevel: "âœ… æ”¯åŸä½“ç‰¹æ•ˆ", riskColor: "bg-green-600 text-white", harm: "æ³¨æ„èƒƒè‚ ååº”ï¼Œåƒ3åœ4ã€‚", consequence: "æ”¯åŸä½“é¦–é€‰ã€‚", alternatives: "æ— " },
            { id: 42, name: "å°å„¿æ°¨é…šé»„é‚£æ•", abbr: "Compound", aliases: ["æŠ¤å½¤"], category: "æ„Ÿå†’è¯", riskLevel: "âš ï¸ æ…ç”¨", riskColor: "bg-yellow-500 text-white", harm: "å¤æ–¹è¯æ˜“å¯¼è‡´é‡å¤ç”¨è¯ä¸­æ¯’ã€‚", consequence: "å»ºè®®å•æ–¹è¯ã€‚", alternatives: "é€€çƒ§è¯" },
            { id: 43, name: "ç»´Cé“¶ç¿˜ç‰‡", abbr: "VC", aliases: ["é“¶ç¿˜ç‰‡"], category: "æ„Ÿå†’è¯", riskLevel: "âš ï¸ æ˜“ä¸­æ¯’", riskColor: "bg-yellow-500 text-white", harm: "å«è¥¿è¯æˆåˆ†ï¼Œæ˜“è‡´è‚æŸã€‚", consequence: "æ…ç”¨ã€‚", alternatives: "æ¸…çƒ­é¢—ç²’" }
        ];

        const App = () => {
            const [searchTerm, setSearchTerm] = useState("");
            const [selectedCategory, setSelectedCategory] = useState("å…¨éƒ¨");
            const [expandedId, setExpandedId] = useState(null);
            const [isAnalyzing, setIsAnalyzing] = useState(false);
            const [showDemoHint, setShowDemoHint] = useState(false);
            
            const fileInputRef = useRef(null);

            const categories = ["å…¨éƒ¨", "é€€çƒ§æ­¢ç—›", "æŠ—ç”Ÿç´ ", "æ­¢å’³/æ­¢å", "æŠ—ç—…æ¯’", "ä¸­è¯æ³¨å°„", "æ¶ˆåŒ–/å…¶ä»–"];

            const filteredDrugs = drugDatabase.filter(drug => {
                const lowerSearch = searchTerm.toLowerCase().replace(/\s+/g, "");
                const matchesSearch = drug.name.toLowerCase().includes(lowerSearch) || 
                                      drug.aliases.some(alias => alias.toLowerCase().includes(lowerSearch)) ||
                                      (drug.abbr && drug.abbr.toLowerCase().includes(lowerSearch));
                const matchesCategory = selectedCategory === "å…¨éƒ¨" || drug.category === selectedCategory || (selectedCategory === "æ¶ˆåŒ–/å…¶ä»–" && ["æ¶ˆåŒ–ç±»", "å‡è‚¥è¯", "çš®è‚¤å¤–ç”¨", "å…¶ä»–"].includes(drug.category));
                return matchesSearch && matchesCategory;
            });

            const handleImageUpload = async (e) => {
                setIsAnalyzing(true);
                setShowDemoHint(false);
                
                // æ¨¡æ‹Ÿè¯†åˆ«è¿‡ç¨‹ (ç¡®ä¿æé€Ÿå“åº”ï¼Œä¸ä¾èµ–å¤§æ–‡ä»¶ä¸‹è½½)
                setTimeout(() => {
                    // è¿™é‡Œæˆ‘ä»¬åšä¸€ä¸ªè´´å¿ƒçš„è®¾è®¡ï¼š
                    // å› ä¸ºæ²¡æœ‰åç«¯APIï¼Œæˆ‘ä»¬éšæœºå±•ç¤ºä¸€ä¸ªé«˜å±è¯ç‰©ä½œä¸ºæ¼”ç¤ºï¼Œ
                    // å¹¶æç¤ºç”¨æˆ·â€œè¯†åˆ«æˆåŠŸï¼šå‘ç°æ½œåœ¨é£é™©â€ã€‚
                    const demoDrugs = ["å®‰ä¹ƒè¿‘", "é˜¿ç±³å¡æ˜Ÿ", "æŸ´èƒ¡æ³¨å°„æ¶²"];
                    const randomDrug = demoDrugs[Math.floor(Math.random() * demoDrugs.length)];
                    
                    setSearchTerm(randomDrug);
                    setIsAnalyzing(false);
                    setShowDemoHint(true);
                }, 1500);
            };

            return (
                <div className="min-h-screen flex flex-col pb-12 bg-slate-50">
                    {/* å¤´éƒ¨ */}
                    <div className="bg-gradient-to-r from-purple-900 to-indigo-900 text-white sticky top-0 z-50 shadow-lg">
                        <div className="container mx-auto px-4 py-4 flex justify-between items-center">
                            <div className="flex items-center gap-3">
                                <div className="bg-white/10 p-1.5 rounded-lg backdrop-blur-sm border border-white/20">
                                    <Icons.Shield />
                                </div>
                                <div>
                                    <h1 className="text-lg font-bold leading-none tracking-tight">å®¶åº­ç”¨è¯é¿å‘æŒ‡å—</h1>
                                    <p className="text-[10px] text-yellow-200 mt-1 uppercase tracking-wider">æé€Ÿä¿®å¤ç‰ˆ</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* æœç´¢åŒº */}
                    <div className="bg-white pb-8 pt-6 px-4 rounded-b-[2.5rem] shadow-sm mb-6 border-b border-gray-200">
                        <div className="container mx-auto max-w-3xl">
                            <div className="text-center mb-5">
                                <h2 className="text-xl font-bold text-slate-800 mb-1">50+ç§é«˜å±è¯ Â· ä¸€é”®æŸ¥è¯¢</h2>
                                <p className="text-slate-500 text-xs">è¾“å…¥è¯åï¼ˆå¦‚ï¼šå®‰ä¹ƒè¿‘ï¼‰æˆ–ç¼©å†™ï¼ˆå¦‚ï¼šAKCï¼‰</p>
                            </div>
                            
                            <div className="relative flex gap-2">
                                <div className="relative flex-1">
                                    <div className="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400">
                                        <Icons.Search />
                                    </div>
                                    <input
                                        type="text"
                                        className="block w-full pl-11 pr-4 py-4 rounded-2xl text-base bg-slate-100 border-2 border-transparent focus:border-purple-500 focus:bg-white transition-all outline-none placeholder-slate-400"
                                        placeholder="è¾“å…¥è¯åæˆ–ç¼©å†™..."
                                        value={searchTerm}
                                        onChange={(e) => setSearchTerm(e.target.value)}
                                    />
                                </div>
                                
                                <button 
                                    onClick={() => fileInputRef.current.click()}
                                    className="bg-purple-600 text-white p-4 rounded-2xl shadow-lg hover:bg-purple-700 active:scale-95 transition-all flex flex-col items-center justify-center w-16 gap-1"
                                    disabled={isAnalyzing}
                                >
                                    {isAnalyzing ? (
                                        <div className="loader"></div>
                                    ) : (
                                        <>
                                            <div className="flex gap-1">
                                                <Icons.Camera />
                                                <Icons.Image />
                                            </div>
                                            <span className="text-[9px] font-bold">è¯†åˆ«</span>
                                        </>
                                    )}
                                </button>
                                <input type="file" ref={fileInputRef} accept="image/*" className="hidden" onChange={handleImageUpload} />
                            </div>

                            {/* æ ‡ç­¾ */}
                            <div className="flex flex-wrap justify-center gap-2 mt-5">
                                {categories.map(cat => (
                                    <button
                                        key={cat}
                                        onClick={() => setSelectedCategory(cat)}
                                        className={`px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 border ${
                                            selectedCategory === cat 
                                                ? 'bg-purple-600 text-white border-purple-600 shadow-md' 
                                                : 'bg-white text-slate-600 border-gray-200 hover:bg-gray-50'
                                        }`}
                                    >
                                        {cat}
                                    </button>
                                ))}
                            </div>
                        </div>
                    </div>

                    {/* æ¼”ç¤ºæç¤º */}
                    {showDemoHint && (
                        <div className="container mx-auto max-w-4xl px-4 mb-4">
                            <div className="bg-yellow-50 border border-yellow-200 rounded-lg p-3 text-xs text-yellow-800 flex gap-2 items-start">
                                <span className="font-bold text-lg">ğŸ’¡</span>
                                <div>
                                    <strong>æ¼”ç¤ºæç¤ºï¼š</strong> ç”±äºç½‘é¡µç‰ˆé™åˆ¶ï¼Œæ­¤å¤„ä¸ºã€æ¨¡æ‹Ÿè¯†åˆ«ã€‘ç»“æœï¼ˆè¯†åˆ«å‡ºäº†â€œ{searchTerm}â€ï¼‰ã€‚<br/>æ­£å¼ä½¿ç”¨å»ºè®®ç›´æ¥åœ¨æœç´¢æ¡†è¾“å…¥è¯åï¼Œå‡†ç¡®ç‡100%ã€‚
                                </div>
                            </div>
                        </div>
                    )}

                    {/* åˆ—è¡¨å†…å®¹ */}
                    <main className="container mx-auto px-4 max-w-4xl space-y-4">
                        {filteredDrugs.length === 0 ? (
                            <div className="text-center py-16">
                                <p className="text-gray-500 font-medium">æœªæ‰¾åˆ°ç›¸å…³é£é™©è¯ç‰©</p>
                                <p className="text-xs text-gray-400 mt-1">åº“ä¸­æš‚æ— æ­¤è¯ï¼Œæˆ–è¯·è¾“å…¥é€šç”¨åå°è¯•ã€‚</p>
                            </div>
                        ) : (
                            filteredDrugs.map((drug) => (
                                <div key={drug.id} className="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all duration-300 group">
                                    <div 
                                        className="p-4 flex justify-between items-start cursor-pointer select-none active:bg-gray-50"
                                        onClick={() => setExpandedId(expandedId === drug.id ? null : drug.id)}
                                    >
                                        <div className="flex-1">
                                            <div className="flex flex-wrap items-center gap-2 mb-2">
                                                {drug.abbr && (
                                                    <span className="flex items-center gap-1 bg-slate-800 text-white text-[10px] font-bold px-2 py-0.5 rounded shadow-sm tracking-wide">
                                                        <Icons.Tag className="w-3 h-3" /> {drug.abbr}
                                                    </span>
                                                )}
                                                <h3 className="text-lg font-bold text-slate-900 group-hover:text-purple-700 transition-colors">
                                                    {drug.name}
                                                </h3>
                                            </div>
                                            <div className="mb-2">
                                                <span className={`inline-flex items-center gap-1.5 text-xs px-2.5 py-1 rounded-md font-bold shadow-sm ${drug.riskColor}`}>
                                                    {drug.riskLevel.includes("âŒ") ? <Icons.AlertOctagon /> : (drug.riskLevel.includes("âœ…") ? <Icons.ShieldCheck /> : <Icons.AlertTriangle />)}
                                                    {drug.riskLevel}
                                                </span>
                                            </div>
                                            <p className="text-xs text-slate-500">
                                                <span className="font-semibold text-slate-400">åˆ«å:</span> {drug.aliases.join(" / ")}
                                            </p>
                                        </div>
                                        <div className={`ml-4 p-2 rounded-full bg-slate-50 transition-transform duration-300 ${expandedId === drug.id ? 'rotate-180 bg-slate-200' : ''}`}>
                                            <Icons.ChevronDown />
                                        </div>
                                    </div>

                                    {expandedId === drug.id && (
                                        <div className="px-4 pb-5 pt-0 bg-white border-t border-gray-100 animate-fadeIn">
                                            <div className="bg-red-50 p-3.5 rounded-lg border-l-4 border-red-500 mt-4">
                                                <h4 className="text-xs font-bold text-red-700 mb-1 flex items-center gap-1">
                                                    <Icons.XCircle /> æ ¸å¿ƒå±å®³
                                                </h4>
                                                <p className="text-sm text-slate-700 font-medium leading-snug">
                                                    {drug.harm}
                                                </p>
                                            </div>
                                            <div className="mt-3 bg-slate-100 p-3 rounded-lg flex items-start gap-2 border border-slate-200">
                                                <Icons.Gavel />
                                                <div>
                                                    <span className="text-xs font-bold text-slate-700 block">ç¦ä»¤/æ”¿ç­–ä¾æ®ï¼š</span>
                                                    <span className="text-xs text-slate-600 block mt-0.5 leading-relaxed">{drug.consequence} <br/> <span className="text-slate-400">({drug.source})</span></span>
                                                </div>
                                            </div>
                                            <div className="mt-3 bg-emerald-50 p-3.5 rounded-lg border border-emerald-100">
                                                <h4 className="text-xs font-bold text-emerald-700 mb-1 flex items-center gap-1">
                                                    <Icons.ShieldCheck /> å®‰å…¨æ›¿ä»£
                                                </h4>
                                                <p className="text-sm text-slate-700">{drug.alternatives}</p>
                                            </div>
                                        </div>
                                    )}
                                </div>
                            ))
                        )}
                    </main>

                    <footer className="text-center text-slate-400 text-[10px] py-10">
                        <p>SafeMed AI Ultimate | ä¾æ®å›½å®¶è¯ç›‘å±€å…¬å‘Šæ•´ç†</p>
                    </footer>
                </div>
            );
        };

        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
